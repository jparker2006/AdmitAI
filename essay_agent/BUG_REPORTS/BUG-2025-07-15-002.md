# Bug Report Template

## BUG-2025-07-15-002

**Date**: 2025-07-15  
**Reporter**: CI Assistant  
**Severity**: Medium  
**Status**: Fixed  
**Fix Commit**: Implemented dict-conversion safeguard in `tests/fixtures/scenarios.py` validate_scenario_result to handle dataclass tool results.

## Summary
Scenario HP-002 failed due to validation error: `ToolExecutionResult` object has no attribute `get`.

## Test Scenario
**Scenario ID**: HP-002  
**User Profile**: challenger_humanities  
**Essay Prompt**: common_challenge  
**Test Command**: python tests/run_conversation_tests.py --all

## Expected Behavior
Single-step brainstorm request should succeed and return brainstorm stories without errors.

## Actual Behavior
Validation layer raised attribute error when inspecting tool results, causing scenario failure.

## Steps to Reproduce
1. Run `python tests/run_conversation_tests.py --all`  
2. Observe HP-002 output.

## Error Details
```
Scenario validation error: 'ToolExecutionResult' object has no attribute 'get'
Scenario validation error: 'ToolExecutionResult' object has no attribute 'get'
```

## Conversation State
**Conversation ID**: test_HP-002_1752570485  
**Failed Tool**: brainstorm (validation)  
**Memory State**: N/A

## Impact Assessment
- **User Experience**: Brainstorm results may not display.  
- **Data Integrity**: No corruption.  
- **System Stability**: Validation crash stops flow.

## Proposed Fix
Update validation helpers to access attributes safely or convert `ToolExecutionResult` to dict before processing.

---

## Bug Report Checklist
- [x] Reproduction steps provided
- [x] Error logs included
- [x] Severity assigned
- [x] Scenario documented 